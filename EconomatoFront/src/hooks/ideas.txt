Herramienta personalizada para logica compleja (el controller)